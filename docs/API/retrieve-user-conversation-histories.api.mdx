---
id: retrieve-user-conversation-histories
title: "Retrieve user conversation histories"
description: "Fetches conversation history records based on specified filters and criteria"
sidebar_label: "Retrieve user conversation histories"
hide_title: true
hide_table_of_contents: true
api: eJy1V21P20gQ/iur0X00JNCiSv5G6VVHpeo4XsQHhNBmPYm32LtmdpcmF/m/n2bXCY4TSjjdfYHEmXlm5plXL6FAp0g3XlsDOXxFr0p0QlnzjOQkPxaldt7SQhAqS4UTE+mwENYI16DSU42FmOrKIzkhTSEUaY+kJWTgUAXSfgH53RImKAnpNPgS8rv79j4DwqeAzn+2xQLyZfyqCQvIPQXMQFnj0Xj+STZNpVV0Z/TDsatLcKrEWvInv2gQcrCTH6g8ZNCQbZC8Rpd0dU/IedJmBtkg8NOLc4GmaKw2vosGMsC5rJuK1UZSjxokZ42sRk/SFBLaDKaWZtZ7NG978ZvBntDE2gqlgbYdOvLdmpn98lk8BaSF8FbgXFWhQLG2tcpD378On3ljyErX2vfMaeNxFiMaGJNzXYdamFBPkISdrnPsrSD0gUzfyknLSQnk8EEXPfikvoV+FkWFLtB4LhNi1MStmCz6wEefTsYnH44/jT98/HTMAXjtI+1/pNL7i8lgwnsBx7TuyssgLS/ErHk52QhjYJzNE7rGGpcydzwe87/N2K6CUujcNFQVN4Ynjc9Y7Oobzv/7a1kSSaZIe6zd29Wl96hAbZrg3+6EG4ckoqzwOPcQCbEbmq8YsME3wbs9ouhMbxX/6blYUS9WaNH+Rrm95rjRT2Gj3KaWhC9xMMDYrCKUHneCTi3V0kMOhfR44HWN24XN2pxh/tV5WTcdZqE3wn+t7c6SJFeLCzWPz+iodoI1SKoo12YQnJzhHoDX9hGNiNJC2WB89EeqciPEV92JgsIziBPBYaLIcqclkbch1sIrmBkapMgx9530aNTi+z7kXK4KoFMS2ohaV5V2qKwpXJy78tnyltkxUYdwtyX6EqnLvdBO1JIesRDSiTXMK6P8X2Gucd43LE+ds0ozYUIN52YPysga326FbbCo12YQ18pDESgW8EO9T0bi9BUNWZ542szESn1Xary11T4joJshWyPgmvVjEbIZtsYdPOiL/ph9qG2B1R6cnIsombBXo6GPxMguzfV3FMHAPfFTOuHW2wF2bLPL9RgaeMhU8RL+1fUFQziNbtUykLbXx/HR9sK6MTL40pL+GwtxIM7Ns6x0ISyJWqesyuhz6l927mTX3jvnSI2shEN6RhJIZCkFKWcO8ru0P85sXUuuiPsMavSlLSCHxrq4NCRfgDCSjR4FhzTq78kE6+LBGKiCHErvG5ePRg1pediQnGtXzZtDZeutlFyQluIyGB7Lgi+6q4gGfGuuTtEr3rRpX/UP0nW62Rz7EcU4/VEIsu7D19V2+HZ7vWX/2+11ok800nGVaSPmB4nXg/RDibLARBjv/suXC/j3//20yUCbqY2xdhUUCTu9OIcMmPUUxdHh+HD8NrdfrAo1Gr9uHU5vLaNjaUrBZXcXccvR67fRhqHly6n0X7+NdBnmq2bUVFKnFUtxdqSivIvU896NKX9x8j6Dkqs3v4Plki3eUNW2/DgOVH6hyeBZkpYTJvbuvs2gSzVX8iMu4pKMgR1csx8sXoU4IYf3YJutNE6Vwsb/UrbfYBd/XnFRTrr3KR53kAPJn5DFvzlABjYSHRsgPltCJc0sxEMDEiZXp9xsi0EbxKhWE94seh4ul0kiniRtC1kXSjdW7tu2/QerGxHW
sidebar_class_name: "post api-method"
info_path: docs/API/pria-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Retrieve user conversation histories"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/api/user/histories"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Fetches conversation history records based on specified filters and criteria

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"api":{"type":"string","description":"API endpoint filter","example":"/ai/personal/qanda"},"forgotten":{"type":"object","properties":{"$ne":{"type":"boolean"}},"description":"MongoDB query to exclude forgotten records","example":{"$ne":true}},"limit":{"type":"integer","description":"Maximum number of records to return","example":5},"course_id":{"type":"number","description":"Course identifier to filter by","example":1750532703472}},"title":"HistoryQuery"},"example":{"api":"/ai/personal/qanda","forgotten":{"$ne":true},"limit":5,"course_id":1750532703472}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successfully retrieved conversation histories","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"in":{"type":"object","properties":{"input":{"type":"string","description":"User input text"}}},"out":{"type":"object","properties":{"outputs":{"type":"array","items":{"type":"string"},"description":"AI response outputs"}}},"id":{"type":"string","description":"Unique identifier for the history record"},"created":{"type":"string","format":"date-time","description":"Creation timestamp"},"credits":{"type":"integer","description":"Credits consumed for this interaction"},"usage":{"type":"integer","description":"Token usage count"},"cached":{"type":"integer","description":"Cached tokens used"},"completion":{"type":"integer","description":"Completion tokens generated"},"latencyMs":{"type":"integer","description":"Response latency in milliseconds"},"favorite":{"type":"boolean","description":"Whether record is marked as favorite"},"forgotten":{"type":"boolean","description":"Whether record is marked as forgotten"},"course_id":{"type":"number","description":"Associated course identifier"},"course_name":{"type":"string","description":"Associated course name"},"query_duration_ms":{"type":"integer","description":"Query processing duration in milliseconds"},"tools":{"type":"array","items":{"type":"object"},"description":"Tools used during the interaction"},"conversation_model":{"type":"string","description":"AI model used for the conversation"},"success":{"type":"boolean","description":"Whether the interaction was successful"}},"title":"HistoryRecord"},"description":"Array of conversation history records","title":"HistoriesResponse"}}}},"401":{"description":"Unauthorized - Invalid or missing access token"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      